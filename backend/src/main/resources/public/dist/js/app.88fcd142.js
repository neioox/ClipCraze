(function(){"use strict";var e={163:function(e,t,o){o.d(t,{Z:function(){return qt}});var n=o(9242),a=o(3396);function s(e,t){const o=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(o,{class:"font-rounded"})}var l=o(89);const r={},i=(0,l.Z)(r,[["render",s]]);var c=i,d=o(2483),u=(o(560),o(4870)),p={__name:"DeleteClip",setup(e){async function t(e){try{const t=e.target.dataset.name;console.log(t);const o=await fetch(`http://localhost:8080/api/deleteclip/${t}`,{method:"DELETE"});if(o.ok){const t=e.target.parentElement;t.remove()}else console.error("Failed to delete clip")}catch(t){console.error("An error occurred:",t)}}return(e,o)=>((0,a.wg)(),(0,a.iD)("button",{class:"bg-red-500 text-white px-4 py-2 mt-2",id:"DeleteButton",onClick:t},"Delete"))}};const h=p;var m=h,g=o(7139);const w=["textContent"];function b(e,t,o,n,s,l){return s.subtitleGenerator.isLoading?((0,a.wg)(),(0,a.iD)("p",{key:1,textContent:(0,g.zw)(s.subtitleGenerator.loadingState)},null,8,w)):((0,a.wg)(),(0,a.iD)("button",{key:0,class:"bg-slate-600 text-white px-4 py-2 mt-2",onClick:t[0]||(t[0]=(...e)=>l.handleClick&&l.handleClick(...e))},"Convert for TikTok"))}class f{constructor(){this.subsExist=!1,this.responses=[],this.isLoading=!1,this.loadingState="starting!"}async generateSubtitles(e,t){let o=!1,n=0;const a=15;while(!o&&n<a){try{this.isLoading=!0,console.log(e);let n=e.target.dataset.name||t;console.log(n),this.loadingState="Checking if subtitles exist...";let a=await fetch(`http://localhost:8080/api/checksubtitle/${n}`),s=await a.json();if(this.subsExist=s.Exists,this.responses.push(s),console.log("test"),console.log(this.subsExist),this.subsExist){o=!0,this.loadingState="Cropping it for TikTok...";const e=await fetch(`http://localhost:8080/api/convert4tiktok/v2/${n}`,{method:"POST"});this.responses.push(await e.json()),this.loadingState="Done!",this.isLoading=!1}else{this.loadingState="Generating Subtitles with AI...";const e=await fetch(`http://localhost:8080/api/genSubtitle/${n}`,{method:"POST"});this.responses.push(await e.json())}}catch(s){console.error("Error generating subtitles:",s)}n++,o||await new Promise((e=>setTimeout(e,1e3)))}n===a&&(console.error("Max attempts reached. Subtitles could not be generated."),this.loadingState="Max attempts reached. Subtitles could not be generated.")}}var v=f,y={data(){return{subtitleGenerator:new v}},methods:{handleClick(e){this.subtitleGenerator.generateSubtitles(e)}}};const x=(0,l.Z)(y,[["render",b]]);var k=x;const _={id:"EditBox"},S=["textContent"],D=["textContent"],C=["onUpdate:modelValue","onInput"];var E={__name:"SubTitlesEditBox",setup(e){const t=(0,d.yj)().params.id,o=(0,u.iH)(""),s=new Map,l=async e=>{try{const t=await fetch("http://localhost:8080/api/getSubsAsJson/"+e),n=await t.json();o.value=n}catch(t){}},r=(e,t)=>{const o=e.target.value,n=t;s.set(n,o)};async function i(e){const t=s.keys(),o=window.location.href.split("/"),n=o[5];for(const l of t){console.log(l);try{let e="/api/editSub",t={id:String(l),text:s.get(l),filename:n};console.log(t);const o=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});o.ok||console.error("Failed to edit subtitle")}catch(a){console.log(a)}}}return l(t),(e,t)=>((0,a.wg)(),(0,a.iD)("div",_,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.value,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:"clip-item"},[(0,a._)("h2",{textContent:(0,g.zw)(e.id)},null,8,S),(0,a._)("h2",{textContent:(0,g.zw)(e.timestamp)},null,8,D),(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":t=>e.text=t,class:"modern-text",onInput:e=>r(e,t)},null,40,C),[[n.nr,e.text]])])))),128)),(0,a._)("button",{onClick:i}," Save Changes")]))}};const T=(0,l.Z)(E,[["__scopeId","data-v-f781fb52"]]);var j=T;const H=(0,a._)("h1",{class:"font-bold bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent p-6 text-7xl"},"Settings",-1),I={style:{"background-color":"yellowgreen"}},W=(0,a._)("h2",{class:"text-2xl font-bold"},"Original",-1),O={class:"w-full flex justify-center"},U=["src"],L=(0,a._)("h2",{class:"text-xl font-bold"},"With subtitles",-1),F=["src"],P={key:1},A=(0,a._)("h2",{class:"text-xl font-bold"},"Cropped for Short Videos",-1),R=["src"],V={key:3};var Z={__name:"SettingsView",setup(e){const t=(0,d.yj)().params.id,o=(0,u.iH)(t),s=(0,u.iH)(t.replace(".mp4","_w_subs.mp4")),l=(0,u.iH)(t.replace(".mp4","_final.mp4")),r=(0,u.iH)(""),i=(0,u.iH)(!1),c=(0,u.iH)("#test #sample"),p=async()=>{try{await qt.push({name:"Home"})}catch(e){console.error(e)}};return(e,d)=>((0,a.wg)(),(0,a.iD)("div",null,[H,(0,a._)("div",I,[W,(0,a._)("div",O,[(0,a._)("video",{class:"mx-auto rounded-lg",width:"500",height:"300",src:"http://localhost:8080/api/getclips/"+o.value,controls:""},null,8,U)]),(0,a._)("div",null,[L,i.value?((0,a.wg)(),(0,a.iD)("video",{key:0,width:"500",height:"300",src:"http://localhost:8080/api/getclips/"+s.value,controls:""},null,8,F)):((0,a.wg)(),(0,a.iD)("p",P,"Does not exist yet")),A,i.value?((0,a.wg)(),(0,a.iD)("video",{key:2,width:"500",height:"300",src:"http://localhost:8080/api/getclips/"+l.value,controls:""},null,8,R)):((0,a.wg)(),(0,a.iD)("p",V,"Does not exist yet"))]),(0,a._)("div",null,[(0,a.Wm)(k,{"data-name":(0,u.SU)(t)},null,8,["data-name"]),(0,a._)("button",{class:"bg-slate-600 text-white px-4 py-2 mt-2",onClick:d[0]||(d[0]=(...t)=>e.generateDescription&&e.generateDescription(...t))},"Generate description"),(0,a._)("button",{class:"bg-slate-600 text-white px-4 py-2 mt-2",onClick:d[1]||(d[1]=(...t)=>e.editSubtitles&&e.editSubtitles(...t))},"Edit Subtitles")]),(0,a._)("div",null,[(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":d[2]||(d[2]=e=>r.value=e)},null,512),[[n.nr,r.value]])]),(0,a._)("button",{class:"bg-slate-600 text-white px-4 py-2 mt-2",onClick:d[3]||(d[3]=(...t)=>e.recommendHashtags&&e.recommendHashtags(...t))},"Recommend hashtags"),(0,a._)("div",null,[(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":d[4]||(d[4]=e=>c.value=e)},"#test #sample",512),[[n.nr,c.value]])]),(0,a._)("button",{class:"bg-red-600 text-white px-4 py-2 mt-2",onClick:p},"Back")]),(0,a.Wm)(j),(0,a.Wm)(m,{"data-name":(0,u.SU)(t)},null,8,["data-name"])]))}};const z=Z;var B=z;const Y=(0,a._)("header",null,null,-1),$={class:"flex items-center justify-center h-screen"},K={class:"w-full max-w-xs"},G={class:"mb-4"},M=(0,a._)("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"username"}," Username ",-1),q={class:"mb-6"},N=(0,a._)("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"}," Password ",-1),J=(0,a._)("div",{class:"flex items-center justify-between"},[(0,a._)("button",{class:"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-full focus:outline-none focus:shadow-outline",type:"submit"}," Log In ")],-1);function Q(e,t,o,s,l,r){const i=(0,a.up)("back-button");return(0,a.wg)(),(0,a.iD)(a.HY,null,[Y,(0,a._)("div",null,[(0,a._)("div",$,[(0,a._)("div",K,[(0,a._)("form",{class:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",onSubmit:t[2]||(t[2]=(0,n.iM)(((...e)=>r.login&&r.login(...e)),["prevent"]))},[(0,a._)("div",G,[M,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Enter your username"},null,512),[[n.nr,l.username]])]),(0,a._)("div",q,[N,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"Enter your password"},null,512),[[n.nr,l.password]])]),J],32)])])]),(0,a.Wm)(i)],64)}var X={__name:"backButton",setup(e){const t=(0,d.tv)(),o=async()=>{try{await t.push({name:"Home"})}catch(e){console.error(e)}};return(e,t)=>((0,a.wg)(),(0,a.iD)("button",{class:"bg-red-600 text-white px-4 py-2 mt-2",onClick:o},"Back"))}};const ee=X;var te=ee;const oe={class:"bg-gray-800 text-white p-4 shadow-lg rounded-full"},ne=(0,a.uE)('<ul class="flex justify-around items-center"><li><img src="Logo.png" alt="Logo" style="height:90px;width:auto;"></li><li><a href="#" class="hover:text-gray-400">Home</a></li><li><a href="#dashboard" class="hover:text-gray-400">Dashboard</a></li><li><a href="#account" class="hover:text-gray-400"> Account</a></li></ul>',1),ae=[ne];function se(e,t){return(0,a.wg)(),(0,a.iD)("nav",oe,ae)}const le={},re=(0,l.Z)(le,[["render",se]]);var ie=re,ce={data(){return{username:"",password:""}},methods:{async login(){try{const e=new FormData;e.append("username",this.username),e.append("password",this.password);const t=await fetch("http://localhost:8080/api/validate/login",{method:"POST",body:e});if(!t.ok)throw new Error("Invalid credentials");const o=await t.json();console.log(o),localStorage.setItem("username",this.username),localStorage.setItem("userid",o.userID),localStorage.setItem("token",o.token),this.$router.push({name:"Dashboard"})}catch(e){console.error("Error:",e.message)}}},components:{"back-button":te,header:ie}};const de=(0,l.Z)(ce,[["render",Q]]);var ue=de,pe={__name:"DownloadSubtitles",setup(e){async function t(e){const t=e.target.dataset.name;window.open("http://localhost:8080/api/getsubtitels/"+t,"_blank")}return(e,o)=>((0,a.wg)(),(0,a.iD)("button",{onClick:t},"Download"))}};const he=pe;var me=he;const ge={class:"flex flex-wrap pl-10"},we=["onClick"],be=["textContent"],fe=["src"],ve={key:0},ye=["onClick"],xe={key:1},ke=(0,a._)("p",{class:"text-red-400"},"Subtitles do not exist ❎",-1),_e={key:2,class:"text-green-500"},Se={key:3,class:"text-red-500"},De=async e=>{const t=await fetch("http://localhost:8080/api/checksubtitle/"+e),o=await t.json();return console.log(o),o.Exists};var Ce={__name:"ClipsList",setup(e){const t=(0,u.iH)([]),o=(0,u.iH)({}),n=(0,u.iH)([]);function s(e){return n.value.includes(e)}function l(e){const t=n.value.indexOf(e);-1!==t?n.value.splice(t,1):n.value.push(e)}const r=async()=>{if(n.value.length>0){const e=new FormData;n.value.forEach((t=>{e.append("clip",t)}));const t=await fetch("http://localhost:8080/api/createQueue/",{method:"POST",body:e});if(!t.ok)throw new Error("Invalid");const o=await t.json();console.log(o.response)}},i=async e=>{try{await qt.push({name:"SettingsView",params:{id:e}})}catch(t){console.error(t)}},c=async()=>{try{const e=await fetch("http://localhost:8080/api/clips"),n=await e.json();t.value=n,localStorage.setItem("clips",n),await Promise.all(n.map((async e=>{const t=await De(e);o.value[e]=t})));let a=await fetch("http://localhost:8080/api/checksubtitle/"+clipName),s=await a.json();console.log(s)}catch(e){console.error("Error fetching clips:",e)}};(0,a.Fl)((()=>t.value.map((e=>e.replace(".mp4","_w_subs.mp4")))));return(0,a.bv)((()=>{c()})),(e,c)=>{const d=(0,a.up)("genSubTitles");return(0,a.wg)(),(0,a.iD)(a.HY,null,[n.value.length>0?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:r},"Add clips to queue")):(0,a.kq)("",!0),(0,a._)("div",ge,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.value,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:(0,g.C_)(["w-1/4 m-4",{"border-4  border-purple-600 shadow-2xl rounded-md":s(e)}]),onClick:t=>l(e)},[(0,a._)("h2",{class:"text-xl, font-bold",textContent:(0,g.zw)(e)},null,8,be),(0,a._)("div",null,[(0,a._)("video",{class:"w-500 h-300 rounded-lg",src:"http://localhost:8080/api/getclips/"+e,controls:""},null,8,fe)]),!0===o.value[e]?((0,a.wg)(),(0,a.iD)("div",ve)):(0,a.kq)("",!0),(0,a._)("button",{onClick:t=>i(e),class:"bg-slate-700 text-white px-4 py-2 mt-2"},"Settings",8,ye),!1===o.value[e]?((0,a.wg)(),(0,a.iD)("div",xe,[(0,a.Wm)(d,{"data-name":e},null,8,["data-name"]),ke])):!0===o.value[e]?((0,a.wg)(),(0,a.iD)("p",_e,"Subtitles exist ✅")):((0,a.wg)(),(0,a.iD)("p",Se,"An error occurred while checking subtitles")),(0,a.Wm)(m,{"data-name":e},null,8,["data-name"]),!0===o.value[e]?((0,a.wg)(),(0,a.j4)(me,{key:4,"data-name":e},null,8,["data-name"])):(0,a.kq)("",!0)],10,we)))),128))])],64)}}};const Ee=Ce;var Te=Ee;const je={key:0},He={key:1};var Ie={__name:"ReceiveClips",setup(e){const t=(0,u.iH)(!1),o=new v;async function n(e){let n=localStorage.getItem("clips");if(n=n.split(", "),console.log(n),n.length<=0)for(const s of n)try{t.value=!0,await o.generateSubtitles(e,s)}catch(a){console.error("Error in generating subtitles:",a)}finally{t.value=!1}}async function s(){try{t.value=!0;const e=localStorage.getItem("userid"),o=new FormData;o.append("id",e),console.log(e);const n=await fetch("http://localhost:8080/api/requestClips",{method:"POST",body:o}),a=await n.json();console.log(a),t.value=!1}catch(e){console.error("Error fetching clips:",e),t.value=!1}}return(e,o)=>t.value?((0,a.wg)(),(0,a.iD)("p",He,"Loading Clips...")):((0,a.wg)(),(0,a.iD)("div",je,[(0,a._)("button",{onClick:s},"Receive new Clips"),(0,a._)("button",{onClick:n},"Convert ALL for TikTok")]))}};const We=Ie;var Oe=We;function Ue(e,t,o,s,l,r){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.url=e),type:"text",placeholder:"Enter URL here"},null,512),[[n.nr,s.url]]),(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>s.download&&s.download(...e))},"Download")])}var Le={setup(){const e=(0,u.iH)(""),t=(0,u.iH)(!1);async function o(){if(e.value){t.value=!0;try{const t=localStorage.getItem("userid"),o=new FormData;o.append("userid",t),o.append("url",e.value),console.log(`Starting download for user ${t} from URL: ${e.value}`);const n=await fetch("http://localhost:8080/api/twitch/downloadclip",{method:"POST",body:o});if(!n.ok)throw new Error("Failed to fetch clips");const a=await n.json();console.log("Download response:",a)}catch(o){console.error("Error fetching clips:",o),alert("Error during download: "+o.message)}finally{t.value=!1}}else alert("Please enter a URL before downloading.")}return{url:e,download:o}}};const Fe=(0,l.Z)(Le,[["render",Ue]]);var Pe=Fe;const Ae={id:"app"},Re=(0,a._)("div",{class:"flex flex-col items-center mt-10"},[(0,a._)("img",{src:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Smilies/Robot.png",alt:"Robot",width:"100",height:"100"}),(0,a._)("h1",{class:"font-bold bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent p-6 text-7xl"},"ClipCraze")],-1),Ve={components:{ReceiveClips:Oe,ClipsList:Te,Login:ue}};var Ze=Object.assign(Ve,{__name:"Home",setup(e){if(localStorage.getItem("username")||localStorage.getItem("token")){const e=localStorage.getItem("token");var t=new FormData;t.append("token",e),fetch("http://localhost:8080/api/checkToken",{method:"POST",body:t}).then((function(e){return e.json()})).then((async function(e){if("Token ist ungültig"===e.response)try{window.location.href.includes("Login")&&window.location.href.includes("Register")||await qt.push({name:"Login"})}catch(t){console.error(t)}})).catch((function(e){console.error("Error:",e)}))}return(e,t)=>{const o=(0,a.up)("router-view"),n=(0,a.up)("RouterView");return(0,a.wg)(),(0,a.j4)(n,null,{default:(0,a.w5)((()=>[(0,a._)("div",Ae,[(0,a.Wm)(ie),Re,(0,a.Wm)(Pe),(0,a.Wm)(Oe),(0,a.Wm)(Te),(0,a.Wm)(o)])])),_:1})}}});const ze=Ze;var Be=ze;const Ye={class:"container mx-auto mt-5"},$e={class:"mb-4"},Ke=(0,a._)("label",{for:"username",class:"block text-gray-700 text-sm font-bold mb-2"},"Username",-1),Ge={class:"mb-4"},Me=(0,a._)("label",{for:"email",class:"block text-gray-700 text-sm font-bold mb-2"},"Email",-1),qe={class:"mb-6"},Ne=(0,a._)("label",{for:"password",class:"block text-gray-700 text-sm font-bold mb-2"},"Password",-1),Je=(0,a._)("button",{type:"submit",class:"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-full focus:outline-none focus:shadow-outline"}," Register ",-1);function Qe(e,t,o,s,l,r){return(0,a.wg)(),(0,a.iD)("div",Ye,[(0,a._)("form",{onSubmit:t[3]||(t[3]=(0,n.iM)(((...e)=>r.registerUser&&r.registerUser(...e)),["prevent"])),class:"max-w-md mx-auto bg-white p-8 rounded shadow-md"},[(0,a._)("div",$e,[Ke,(0,a.wy)((0,a._)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e),placeholder:"Enter username",class:"w-full px-3 py-2 border rounded focus:outline-none focus:shadow-outline"},null,512),[[n.nr,l.username]])]),(0,a._)("div",Ge,[Me,(0,a.wy)((0,a._)("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=e=>l.email=e),placeholder:"Enter email",class:"w-full px-3 py-2 border rounded focus:outline-none focus:shadow-outline"},null,512),[[n.nr,l.email]])]),(0,a._)("div",qe,[Ne,(0,a.wy)((0,a._)("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=e=>l.password=e),placeholder:"Enter password",class:"w-full px-3 py-2 border rounded focus:outline-none focus:shadow-outline"},null,512),[[n.nr,l.password]])]),Je],32)])}var Xe={data(){return{username:"",email:"",password:""}},methods:{async registerUser(){const e=new FormData;e.append("username",this.username),e.append("password",this.password),e.append("group","user");try{const t=await fetch("http://localhost:8080/api/addUser/",{method:"POST",body:e}),o=await t.json();console.log(o),this.$router.push({name:"Login"})}catch(t){console.error("Error:",t)}}}};const et=(0,l.Z)(Xe,[["render",Qe]]);var tt=et;const ot=(0,a._)("div",{class:"flex flex-col items-center mt-10"},[(0,a._)("h1",{class:"font-bold bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent p-6 text-7xl"},"Dashboard")],-1),nt=(0,a._)("h2",{class:"text-xl font-bold mb-4"},"Streamer List",-1),at={class:"w-full rounded-lg overflow-hidden shadow-lg"},st=(0,a._)("thead",{class:"bg-gray-100"},[(0,a._)("tr",null,[(0,a._)("th",{class:"py-4 px-6 text-left"},"Streamer"),(0,a._)("th",{class:"py-4 px-6 text-left"},"Actions")])],-1),lt={class:"py-3 px-6 border-b border-gray-200 font-bold"},rt={class:"py-3 px-6 border-b border-gray-200"},it=["onClick"],ct={class:"mt-4"},dt=(0,a._)("label",{for:"newStreamer",class:"block font-bold"},"Add Streamer",-1);function ut(e,t,o,s,l,r){const i=(0,a.up)("Header"),c=(0,a.up)("shedule-panel"),d=(0,a.up)("back-button");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(i),ot,(0,a._)("h1",null,"Welcome "+(0,g.zw)(l.username),1),(0,a._)("div",null,[nt,(0,a._)("table",at,[st,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.streamers,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t,class:"hover:bg-gray-50"},[(0,a._)("td",lt,(0,g.zw)(e),1),(0,a._)("td",rt,[(0,a._)("button",{onClick:e=>r.removeStreamer(t),class:"text-white bg-red-500 hover:bg-red-600 transition-colors duration-150 px-4 py-2 rounded-full shadow"}," Remove ",8,it)])])))),128))])]),(0,a._)("div",ct,[dt,(0,a.wy)((0,a._)("input",{type:"text",id:"newStreamer","onUpdate:modelValue":t[0]||(t[0]=e=>l.newStreamer=e),class:"w-full border border-gray-300 p-2 rounded-md shadow-md"},null,512),[[n.nr,l.newStreamer]]),(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>r.addStreamer&&r.addStreamer(...e)),class:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-full"},"Add")])]),(0,a.Wm)(c),(0,a.Wm)(d)],64)}const pt=["onClick"],ht={class:"w-full rounded-lg overflow-hidden shadow-lg"},mt=(0,a._)("thead",null,[(0,a._)("tr",{class:"bg-gray-100"},[(0,a._)("th",{class:"py-2 px-4 border border-gray-300"},"Time")])],-1),gt={class:"py-2 px-4 border border-gray-300"},wt={class:"py-2 px-4 border border-gray-300"},bt=["onClick"],ft={class:"mt-4"},vt=(0,a._)("label",{for:"newTime",class:"block font-bold"},"Add Time",-1);function yt(e,t,o,s,l,r){return(0,a.wg)(),(0,a.iD)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.weekdays,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a._)("button",{onClick:t=>r.addWeekday(e),class:(0,g.C_)({"bg-blue-500":l.selectedWeekdays.includes(e)})},(0,g.zw)(e),11,pt)])))),128)),(0,a._)("div",null,[(0,a._)("table",ht,[mt,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.ScheduleTime,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",gt,(0,g.zw)(e),1),(0,a._)("td",wt,[(0,a._)("button",{onClick:e=>r.removeTime(t),class:"text-red-600"},"Remove",8,bt)])])))),128))])]),(0,a._)("div",ft,[vt,(0,a.wy)((0,a._)("input",{type:"time",id:"newTime","onUpdate:modelValue":t[0]||(t[0]=e=>l.newTime=e),class:"w-full border border-gray-300 p-2 rounded-md"},null,512),[[n.nr,l.newTime]]),(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>r.addTime&&r.addTime(...e)),class:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-full shadow-md"},"Add")])]),(0,a._)("button",{onClick:t[2]||(t[2]=(...e)=>r.saveData&&r.saveData(...e)),class:"mt-2 px-4 py-2 bg-green-400 text-white rounded-full shadow-md"}," Save")])}var xt={data(){return{weekdays:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],selectedWeekdays:[],ScheduleTime:[],newTime:""}},methods:{addTime(){this.newTime&&(this.ScheduleTime.push(this.newTime),this.newTime="")},addWeekday(e){if(this.selectedWeekdays.includes(e)){const t=this.selectedWeekdays.indexOf(e);this.selectedWeekdays.splice(t,1)}else this.selectedWeekdays.push(e)},removeTime(e){this.ScheduleTime.splice(e,1)},saveData(){const e=this.selectedWeekdays.join(", "),t=this.ScheduleTime.join(", ");var o=new FormData;o.append("Days",e),o.append("Time",t),o.append("assigneduser",localStorage.getItem("userid")),fetch("http://localhost:8080/api/addSchedule/",{method:"POST",body:o}).then((e=>e.json())).then((e=>{console.log(e)})).catch((e=>{console.error("Error:",e)}))},async getSchedules(){var e=new FormData;e.append("id",localStorage.getItem("userid"));try{const t=await fetch("http://localhost:8080/api/get/schedule/",{method:"POST",body:e}),o=await t.json();if(console.log(o),o.schedules&&o.schedules.length>0){const e=o.schedules[0].Weekdays||[],t=o.schedules[0].Times||[];e.forEach((e=>{this.selectedWeekdays.includes(e)||this.selectedWeekdays.push(e)})),t.forEach((e=>{this.ScheduleTime.push(e)}))}}catch(t){console.error("Error:",t)}}},async mounted(){localStorage.getItem("userid")?await this.getSchedules():console.error("User ID not found in localStorage.")}};const kt=(0,l.Z)(xt,[["render",yt]]);var _t=kt,St={data(){return{username:"",streamers:[],newStreamer:""}},methods:{async getStreamers(){if(0===this.streamers.length){const e=new FormData;e.append("id",localStorage.getItem("userid"));const t=await fetch("http://localhost:8080/api/get/streamer",{method:"POST",body:e});if(!t.ok)throw new Error("Invalid");const o=await t.json();this.streamers=o.streamers}},async addStreamer2DB(e,t){try{const o=new FormData;o.append("name",e),o.append("assigneduser",t);const n=await fetch("http://localhost:8080/api/addStreamer",{method:"POST",body:o});if(!n.ok)throw new Error("Invalid");const a=await n.json();console.log(a.response)}catch(o){console.error("Error:",o.message)}},addStreamer(){if(""!==this.newStreamer.trim()){const e=this.newStreamer.trim();this.streamers.push(e);const t=localStorage.getItem("userid");t&&this.addStreamer2DB(e,t),this.newStreamer=""}},async removeStreamer(e){const t=this.streamers[e],o=localStorage.getItem("userid");try{const n=new FormData;n.append("streamername",t),n.append("id",o),this.streamers.splice(e,1);const a=await fetch("http://localhost:8080/api/delete/streamer",{method:"DELETE",body:n});if(!a.ok)throw new Error("Invalid");const s=await a.json();console.log(s.response)}catch(n){console.error("Error:",n.message)}}},components:{"shedule-panel":_t,"back-button":te,Header:ie},async mounted(){this.username=localStorage.getItem("username")||"Guest",await this.getStreamers(),await this.fetchWebhook()}};const Dt=(0,l.Z)(St,[["render",ut]]);var Ct=Dt;const Et=(0,a._)("h2",null,"Finsihed Clips",-1),Tt=["src"];function jt(e,t,o,n,s,l){const r=(0,a.up)("buttton");return(0,a.wg)(),(0,a.iD)("div",null,[Et,(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Renew clips")])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.clips,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a._)("video",{class:"w-500 h-300 rounded-lg",src:"http://localhost:8080/api/getclips/"+e,controls:""},null,8,Tt)])))),128))])}var Ht={data(){return{clips:[]}},methods:{async getClipsAssignedToUser(){if(0===this.clips.length){const t=localStorage.getItem("userid");if(!t)return void console.error("User ID is not available");try{const e=await fetch(`http://localhost:8080/api/get/user/${t}/Clips/Finished`),o=await e.json();o.forEach((e=>this.clips.push(e))),console.log(o)}catch(e){console.error("Error fetching clips:",e)}}}},mounted(){this.getClipsAssignedToUser()}};const It=(0,l.Z)(Ht,[["render",jt]]);var Wt=It;const Ot={key:0},Ut=(0,a._)("h1",{class:"font-bold bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent p-6 text-7xl"},"Account",-1),Lt={class:"text-5xl bg-violet-400 py-2 px-4 rounded focus:outline-none text-white focus:shadow-outline"},Ft=(0,a._)("p",null,"Discord WEBHOOK link",-1),Pt={key:1},At=(0,a._)("h1",{class:"font-bold bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent p-6 text-7xl"},"You are not Loggedin",-1),Rt=(0,a._)("a",{href:"#register",class:"bg-violet-500 hover:bg-violet-700 text-white font-bold py-2 px-4 rounded-full focus:outline-none focus:shadow-outline"}," Register ",-1),Vt=(0,a._)("a",{href:"#login",class:"bg-violet-500 hover:bg-violet-700 text-white font-bold py-2 px-4 rounded-full focus:outline-none focus:shadow-outline"}," Login ",-1),Zt=[At,Rt,Vt];function zt(e,t,o,s,l,r){const i=(0,a.up)("Header");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(i),s.userLoggedin?((0,a.wg)(),(0,a.iD)("div",Ot,[Ut,(0,a._)("h1",Lt," username: "+(0,g.zw)(s.userName),1),(0,a._)("div",null,[Ft,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.url=e),type:"text",placeholder:"Enter Discord WEBHOOK url here"},null,512),[[n.nr,s.url]]),(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>s.setWebhook&&s.setWebhook(...e))},"Set Webhook")]),(0,a._)("button",{onClick:t[2]||(t[2]=(...e)=>s.logout&&s.logout(...e)),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-full focus:outline-none focus:shadow-outline"}," Logout ")])):((0,a.wg)(),(0,a.iD)("div",Pt,Zt))])}var Bt={components:{Header:ie},setup(){const e=(0,u.iH)(!1),t=(0,u.iH)(""),o=(0,u.iH)(""),n=()=>{const o=localStorage.getItem("token");o&&(e.value=!0,t.value=localStorage.getItem("username"))},s=async()=>{try{const e=localStorage.getItem("userid"),t=await fetch(`http://localhost:8080/api/getSettings/${e}`);if(!t.ok)throw new Error("Failed to fetch settings");const n=await t.json();o.value=n.webhook,console.log("URL: "+o.value)}catch(e){console.error("Error fetching settings:",e)}},l=async()=>{try{const e=localStorage.getItem("userid"),t=new FormData;t.append("id",e),t.append("webhook",o.value);const n=await fetch("http://localhost:8080/api/addSettings",{method:"POST",body:t});if(!n.ok)throw new Error("Failed to set webhook");const a=await n.json();console.log("Set webhook response:",a)}catch(e){console.error("Error setting webhook:",e)}},r=()=>{localStorage.removeItem("token"),localStorage.removeItem("username"),e.value=!1,t.value=""};return(0,a.bv)((async()=>{n(),e.value&&await s()})),{userLoggedin:e,userName:t,url:o,setWebhook:l,logout:r}}};const Yt=(0,l.Z)(Bt,[["render",zt]]);var $t=Yt;const Kt=(0,n.ri)(c),Gt=[{path:"/",component:Be,name:"Home"},{path:"/clip-settings/:id",component:B,name:"SettingsView",props:!0},{path:"/Login",component:ue,name:"Login"},{path:"/Register",component:tt,name:"Register"},{path:"/Dashboard",component:Ct,name:"Dashboard"},{path:"/Finished",component:Wt,name:"Finished"},{path:"/Account",component:$t,name:"Account"}],Mt=(0,d.p7)({history:(0,d.r5)(),routes:Gt,linkActiveClass:"active"});Kt.use(Mt),Kt.mount("#app");var qt=Mt}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,n,a,s){if(!n){var l=1/0;for(d=0;d<e.length;d++){n=e[d][0],a=e[d][1],s=e[d][2];for(var r=!0,i=0;i<n.length;i++)(!1&s||l>=s)&&Object.keys(o.O).every((function(e){return o.O[e](n[i])}))?n.splice(i--,1):(r=!1,s<l&&(l=s));if(r){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,a,s]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,s,l=n[0],r=n[1],i=n[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(a in r)o.o(r,a)&&(o.m[a]=r[a]);if(i)var d=i(o)}for(t&&t(n);c<l.length;c++)s=l[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(d)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(163)}));n=o.O(n)})();
//# sourceMappingURL=app.88fcd142.js.map